@using Microsoft.AspNetCore.Identity
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
@{
    ViewData["Title"] = "Edit Profile";
}

@model Project.ViewModels.EditViewModel
<div style="height: 100%; padding: 60px;" class="bg-dblue-lighter d-flex flex-column justify-content-center align-items-center">
    <form method="post" asp-controller="Home" asp-action="EditProfile">
        <div style="border: 1px solid #F6AE2D; border-radius: 30px" class="d-flex justify-content-center align-items-center flex-column bg-mustard p-5">

            <div>
                <h1 class="text-dblue-lighter">@ViewData["Title"]</h1>
            </div>
            <div class="d-flex flex-column gap-3 p-5 input-group-lg w-100 justify-content-center align-items-center">
                <img id="image" width="150px" height="150px" src="https://imgs.search.brave.com/EAgA3GVRAsj90q4zZtH_Q5Utv3ccTIEx8Q7UWJRq1eE/rs:fit:240:225:1/g:ce/aHR0cHM6Ly90c2Ux/Lm1tLmJpbmcubmV0/L3RoP2lkPU9JUC5t/cm53Z1VKTFpFbFRC/S05mejg5YlpRQUFB/QSZwaWQ9QXBp"/>
                <input id="imageInput" class="form-control bg-secondary" placeholder="Image Url Here" asp-for="ImageURL"/>
                <input class="form-control bg-secondary" placeholder="@User.Identity?.Name" asp-for="Email"/>
                <input class="form-control bg-secondary" asp-for="OldPassword" placeholder="Old Password">
                <input class="form-control bg-secondary" asp-for="NewPassword" placeholder="New Password"/>
            </div>
            <div class="d-flex justify-content-center align-items-center flex-column w-100 gap-3">
                <button class="btn bg-dblue-lighter text-white w-75">Save</button>
                <a class="btn btn-danger text-white w-75" asp-controller="Home" asp-action="DeleteAccount">Delete Account</a>
            </div>
        </div>
    </form>
</div>

<script>
    let image = document.getElementById("image");
    let input = document.getElementById("imageInput");
    input.addEventListener("change", () => {
        image.src = input.value;
    });
</script>

